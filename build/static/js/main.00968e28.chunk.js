(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{227:function(e,t,a){e.exports=a(390)},258:function(e,t,a){},259:function(e,t,a){},382:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},387:function(e,t,a){},390:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(35),s=a.n(o),c=a(43),i=a(14),l=a(154),u=(a(236),Object(c.c)({loginMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch((arguments.length>1?arguments[1]:void 0).type){case"CLEAR_LOGIN_ERROR":return"";case"LOGIN_INPUT_ERROR":return"Enter your username and password!";case"LOGIN_FAILED":return"Oops! The username and password didn't match. Try again!";case"LOGIN_FAILED_NO_CODE":return"Oops! Something went wrong! Is the server running?";default:return e}},registrationMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch((arguments.length>1?arguments[1]:void 0).type){case"CLEAR_REGISTRATION_ERROR":return"";case"REGISTRATION_INPUT_ERROR":return"Choose a username and password!";case"REGISTRATION_FAILED":return"Oops! That didn't work. The username might already be taken. Try again!";default:return e}}})),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login";switch((arguments.length>1?arguments[1]:void 0).type){case"SET_TO_LOGIN_MODE":return"login";case"SET_TO_REGISTER_MODE":return"register";default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;case"UNSET_USER":return{};default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ORDERS":return t.payload;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return t.payload;default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTES":return t.payload;default:return e}},f=Object(c.c)({notes:E,orders:m,products:h,errors:u,loginMode:d,user:p}),g=a(9),v=a.n(g),O=a(15),y=a(8),b=a.n(y),w=v.a.mark(x),j=v.a.mark(T),S=v.a.mark(I);function x(e){var t;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(O.b)({type:"CLEAR_LOGIN_ERROR"});case 3:return t={headers:{"Content-Type":"application/json"},withCredentials:!0},a.next=6,b.a.post("api/user/login",e.payload,t);case 6:return a.next=8,Object(O.b)({type:"FETCH_USER"});case 8:a.next=20;break;case 10:if(a.prev=10,a.t0=a.catch(0),console.log("Error with user login:",a.t0),401!==a.t0.response.status){a.next=18;break}return a.next=16,Object(O.b)({type:"LOGIN_FAILED"});case 16:a.next=20;break;case 18:return a.next=20,Object(O.b)({type:"LOGIN_FAILED_NO_CODE"});case 20:case"end":return a.stop()}},w,this,[[0,10]])}function T(e){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{"Content-Type":"application/json"},withCredentials:!0},e.next=4,b.a.post("api/user/logout",t);case 4:return e.next=6,Object(O.b)({type:"UNSET_USER"});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error with user logout:",e.t0);case 11:case"end":return e.stop()}},j,this,[[0,8]])}function I(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)("LOGIN",x);case 2:return e.next=4,Object(O.c)("LOGOUT",T);case 4:case"end":return e.stop()}},S,this)}var _=I,N=v.a.mark(P),k=v.a.mark(C);function P(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.b)({type:"CLEAR_REGISTRATION_ERROR"});case 3:return t.next=5,b.a.post("api/user/register",e.payload);case 5:return t.next=7,Object(O.b)({type:"LOGIN",payload:e.payload});case 7:return t.next=9,Object(O.b)({type:"SET_TO_LOGIN_MODE"});case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),console.log("Error with user registration:",t.t0),t.next=16,Object(O.b)({type:"REGISTRATION_FAILED"});case 16:case"end":return t.stop()}},N,this,[[0,11]])}function C(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)("REGISTER",P);case 2:case"end":return e.stop()}},k,this)}var R=C,L=v.a.mark(G),D=v.a.mark(M);function G(){var e,t;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e={headers:{"Content-Type":"application/json"},withCredentials:!0},a.next=4,b.a.get("api/user",e);case 4:return t=a.sent,a.next=7,Object(O.b)({type:"SET_USER",payload:t.data});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("User get request failed",a.t0);case 12:case"end":return a.stop()}},L,this,[[0,9]])}function M(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)("FETCH_USER",G);case 2:case"end":return e.stop()}},D,this)}var A=M,U=v.a.mark(z),H=v.a.mark(F);function z(e){var t,a;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.a.post("/api/dashboardGet",e.payload);case 3:return t=n.sent,console.log("order saga:",e.payload),a={type:"SET_ORDERS",payload:t.data},n.next=8,Object(O.b)(a);case 8:n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),console.log("Error making Get request in getOrders",n.t0),alert("there was a problem");case 14:case"end":return n.stop()}},U,this,[[0,10]])}function F(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)("GET_ORDERS",z);case 2:case"end":return e.stop()}},H,this)}var Q=F,W=v.a.mark(q),V=v.a.mark(B);function q(e){var t,a;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("in postHistory: "),n.next=4,b.a.post("/api/history",e.payload);case 4:return t=n.sent,a={type:"SET_PRODUCTS",payload:t.data},n.next=8,Object(O.b)(a);case 8:n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),console.log("Error making POST request in postHistory",n.t0),alert("there was a problem");case 14:case"end":return n.stop()}},W,this,[[0,10]])}function B(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)("POST_HISTORY",q);case 2:case"end":return e.stop()}},V,this)}var J=B,Y=v.a.mark(X),K=v.a.mark(Z);function X(e){var t,a;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("in getNotes: ",e.payload),n.next=4,b.a.post("/api/notesGet/");case 4:return t=n.sent,a={type:"SET_NOTES",payload:t.data},n.next=8,Object(O.b)(a);case 8:n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),console.log("Error making GET request in getNotes",n.t0),alert("there was a problem");case 14:case"end":return n.stop()}},Y,this,[[0,10]])}function Z(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)("GET_NOTES",X);case 2:case"end":return e.stop()}},K,this)}var $=Z,ee=v.a.mark(te);function te(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)([$(),J(),J(),Q(),_(),R(),A()]);case 2:case"end":return e.stop()}},ee,this)}var ae=a(18),ne=a(19),re=a(21),oe=a(20),se=a(22),ce=a(392),ie=a(395),le=a(393),ue=a(394),de=a(391),pe=Object(i.b)()(function(e){return r.a.createElement("button",{className:e.className,onClick:function(){return e.dispatch({type:"LOGOUT"})}},"Log Out")}),me=(a(258),Object(i.b)(function(e){return{user:e.user}})(function(e){return r.a.createElement("div",{className:"nav"},r.a.createElement(de.a,{to:"/home"},r.a.createElement("h2",{className:"nav-title"},"Daily Orders App")),r.a.createElement("div",{className:"nav-right"},r.a.createElement(de.a,{className:"nav-link",to:"/home"},e.user.id?r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"})):"Login / Register"),e.user.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{className:"nav-link",to:"/history"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z"})))),e.user.manager&&r.a.createElement(de.a,{className:"nav-link",to:"/update"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.22 0 .41.1.55.25.12.13.2.31.2.5 0 .41-.34.75-.75.75s-.75-.34-.75-.75c0-.19.08-.37.2-.5.14-.15.33-.25.55-.25zM19 19H5V5h14v14zM12 6c-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3-1.35-3-3-3zm0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-6 6.47V18h12v-1.53c0-2.5-3.97-3.58-6-3.58s-6 1.07-6 3.58zM8.31 16c.69-.56 2.38-1.12 3.69-1.12s3.01.56 3.69 1.12H8.31z"}))),e.user.id&&r.a.createElement(pe,{className:"nav-link"})))})),he=(a(259),function(){return r.a.createElement("footer",null)}),Ee=a(153),fe=a(62),ge=a(41),ve=a.n(ge),Oe=a(6),ye=a.n(Oe),be=a(29),we=a.n(be),je=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.login=function(e){e.preventDefault(),a.state.username&&a.state.password?a.props.dispatch({type:"LOGIN",payload:{username:a.state.username,password:a.state.password}}):a.props.dispatch({type:"LOGIN_INPUT_ERROR"})},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(fe.a)({},e,t.target.value))}},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ye.a,{container:!0,spacing:24,style:{padding:24},direction:"column",alignItems:"center"},this.props.errors.loginMessage&&r.a.createElement("h2",{className:"alert",role:"alert"},this.props.errors.loginMessage),r.a.createElement("form",{onSubmit:this.login},r.a.createElement("h1",null,"Login"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},r.a.createElement(ve.a,{item:!0,xs:12,xl:12,variant:"outlined",id:"outlined-name",type:"text",label:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},r.a.createElement(ve.a,{style:{paddingTop:10,paddingBottom:10},variant:"outlined",type:"password",label:"password",value:this.state.password,onChange:this.handleInputChangeFor("password")}))),r.a.createElement("div",null,r.a.createElement(ye.a,{item:!0,direction:"row",alignItems:"center"},r.a.createElement("input",{className:"log-in",type:"submit",name:"submit",value:"Log In"}),r.a.createElement(we.a,{variant:"contained",style:{height:47,width:97},type:"button",className:"link-button",onClick:function(){e.props.dispatch({type:"SET_TO_REGISTER_MODE"})}},"Register"))))))}}]),t}(n.Component),Se=Object(i.b)(function(e){return{errors:e.errors}})(je),xe=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.registerUser=function(e){e.preventDefault(),a.state.username&&a.state.password?a.props.dispatch({type:"REGISTER",payload:{username:a.state.username,password:a.state.password}}):a.props.dispatch({type:"REGISTRATION_INPUT_ERROR"})},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(fe.a)({},e,t.target.value))}},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.errors.registrationMessage&&r.a.createElement("h2",{className:"alert",role:"alert"},this.props.errors.registrationMessage),r.a.createElement("form",{onSubmit:this.registerUser},r.a.createElement("h1",null,"Register User"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Username:",r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password:",r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChangeFor("password")}))),r.a.createElement("div",null,r.a.createElement("input",{className:"register",type:"submit",name:"submit",value:"Register"}))),r.a.createElement("center",null,r.a.createElement("button",{type:"button",className:"link-button",onClick:function(){e.props.dispatch({type:"SET_TO_LOGIN_MODE"})}},"Login")))}}]),t}(n.Component),Te=Object(i.b)(function(e){return{errors:e.errors}})(xe),Ie=Object(i.b)(function(e){return{user:e.user,loginMode:e.loginMode}})(function(e){var t,a=e.component,n=e.user,o=e.loginMode,s=Object(Ee.a)(e,["component","user","loginMode"]);return t=n.id?a:"login"===o?Se:Te,r.a.createElement(ue.a,Object.assign({},s,{component:t}))}),_e=function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,"This about page is for anyone to read!")))},Ne=a(31),ke=a.n(Ne),Pe=a(17),Ce=a.n(Pe),Re=a(51),Le=function(e){function t(){var e;return Object(ae.a)(this,t),(e=Object(re.a)(this,Object(oe.a)(t).call(this))).toOrderSheet=function(t){b()({method:"POST",url:"/api/dashboardPost",data:{id:e.props.order.order_id,person:e.props.order.person_id,date:e.state.date}}).then(function(t){e.props.history.push("/home/".concat(e.props.order.order_id))})},e.state={date:Re().format("L")},e}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.props.getOrders()}},{key:"render",value:function(){var e;return 1==this.props.order.status_id?e=r.a.createElement("p",null,"Incomplete"):2==this.props.order.status_id?e=r.a.createElement("p",null,"Complete"):4==this.props.order.status_id&&(e=r.a.createElement("p",null,"Approved")),1==this.props.user.manager?r.a.createElement(ke.a,{onClick:this.toOrderSheet},r.a.createElement(Ce.a,null,this.props.order.order_name),r.a.createElement(Ce.a,null,this.props.order.username)):r.a.createElement(ke.a,{onClick:this.toOrderSheet},r.a.createElement(Ce.a,null,this.props.order.order_name),r.a.createElement(Ce.a,null,e))}}]),t}(n.Component),De=Object(i.b)(function(e){return{user:e.user}})(Le),Ge=a(38),Me=a.n(Ge),Ae=a(40),Ue=a.n(Ae),He=a(39),ze=a.n(He),Fe=a(32),Qe=a.n(Fe),We=a(51);We().format();var Ve=function(e){function t(e){var a;return Object(ae.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).getOrders=function(){console.log("in get orders");var e={id:a.props.reduxStore.user.id,date:a.state.date};b()({method:"POST",url:"/api/dashboardGet",data:e}).then(function(e){a.setState({orders:e.data})})},a.toOrderSheet=function(e){a.props.history.push("/home:/id")},a.state={orders:[],date:We().format("L")},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.getOrders()}},{key:"render",value:function(){var e=this;return r.a.createElement(ye.a,{container:!0,style:{padding:20},direction:"column",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(Qe.a,null,r.a.createElement(ye.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement("strong",null,"Your Orders")),r.a.createElement(Me.a,null,r.a.createElement(ze.a,null,r.a.createElement(ke.a,null,r.a.createElement(Ce.a,null,"Order Name"),r.a.createElement(Ce.a,null,"Status"))),r.a.createElement(Ue.a,null,this.state.orders.map(function(t){return r.a.createElement(De,{key:t.id,order:t,history:e.props.history,getOrders:e.getOrders})})))))}}]),t}(n.Component),qe=Object(i.b)(function(e){return{reduxStore:e}})(Ve),Be=a(63),Je=a(51);Je().format();var Ye,Ke,Xe=function(e){function t(e){var a;return Object(ae.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).getOrders=function(){console.log("in get orders");var e={date:a.state.date};b()({method:"POST",url:"/api/dashboardGet",data:e}).then(function(e){a.setState({orders:e.data})})},a.toOrderSheet=function(e){a.props.history.push("/home:/id")},a.state={orders:[],date:Je().format("L")},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.getOrders()}},{key:"render",value:function(){var e=this;return r.a.createElement(ye.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"stretch"},r.a.createElement(ye.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"stretch",style:{padding:20}},r.a.createElement(Qe.a,null,r.a.createElement(Be.a,null,r.a.createElement("strong",null,"Orders Pending Apporoval")),r.a.createElement(Me.a,null,r.a.createElement(ze.a,{alignItems:"center"},r.a.createElement(ke.a,null,r.a.createElement(Ce.a,null,"Order Name"),r.a.createElement(Ce.a,null,"Writer"))),r.a.createElement(Ue.a,null,this.state.orders.map(function(t){if(2==t.status_id)return r.a.createElement(De,{key:t.id,order:t,history:e.props.history,getOrders:e.getOrders})}))))),r.a.createElement(ye.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"stretch",style:{padding:20}},r.a.createElement(Qe.a,null,r.a.createElement(Be.a,null,r.a.createElement("strong",null,"Orders Incomplete")),r.a.createElement(Me.a,null,r.a.createElement(ze.a,null,r.a.createElement(ke.a,null,r.a.createElement(Ce.a,null,"Order Name"),r.a.createElement(Ce.a,null,"Writer"))),r.a.createElement(Ue.a,null,this.state.orders.map(function(t){if(1==t.status_id)return r.a.createElement(De,{key:t.id,order:t,history:e.props.history,getOrders:e.getOrders})}))))),r.a.createElement(ye.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"stretch",style:{padding:20}},r.a.createElement(Qe.a,null,r.a.createElement(Be.a,null,r.a.createElement("strong",null,"Orders Approved")),r.a.createElement(Me.a,null,r.a.createElement(ze.a,null,r.a.createElement(ke.a,null,r.a.createElement(Ce.a,null,"Order Name"),r.a.createElement(Ce.a,null,"Writer"))),r.a.createElement(Ue.a,null,this.state.orders.map(function(t){if(4==t.status_id)return r.a.createElement(De,{key:t.id,order:t,history:e.props.history,getOrders:e.getOrders})}))))))}}]),t}(n.Component),Ze=Object(i.b)(function(e){return{reduxStore:e}})(Xe),$e=(a(382),a(51)().format("L")),et=function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e;return e=!1===this.props.user.manager?r.a.createElement(qe,{history:this.props.history}):r.a.createElement(Ze,{history:this.props.history}),r.a.createElement("div",null,r.a.createElement(ye.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement("h1",null,"Welcome, ",this.props.user.username),r.a.createElement("h3",null,"Today's Date",r.a.createElement("br",null),$e)),r.a.createElement(ye.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},e))}}]),t}(n.Component),tt=Object(i.b)(function(e){return{user:e.user}})(et),at=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Info Page"))},nt=(a(383),a(384),a(36)),rt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).deleteProduct=function(){b()({method:"DELETE",url:"/api/updateorders/".concat(a.props.product.id)}).then(function(e){a.props.getProducts()}).catch(function(e){console.log(e)})},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return r.a.createElement(ke.a,null,r.a.createElement(ye.a,{container:!0,style:{padding:20},direction:"row",justify:"space-between",alignItems:"space-between"},r.a.createElement(Ce.a,null,this.props.product.product_name),r.a.createElement(Ce.a,null,r.a.createElement(we.a,{variant:"outlined",onClick:this.deleteProduct},"Delete"))))}}]),t}(n.Component),ot=Object(i.b)(function(e){return{reduxStore:e}})(rt),st=a(51),ct=function(e){function t(){var e;return Object(ae.a)(this,t),(e=Object(re.a)(this,Object(oe.a)(t).call(this))).getOrders=function(){console.log("in get orders");var t={id:e.props.reduxStore.user.id,date:e.state.date};b()({method:"GET",url:"/api/dashboardGet",data:t}).then(function(t){e.setState({orders:t.data})}).catch(function(e){console.log("error in getOrders",e)})},e.getPerson=function(t){b()({method:"GET",url:"/api/updateorders"}).then(function(t){e.setState({people:t.data})}).catch(function(e){console.log("error in getPerson",e)})},e.getOldProduct=function(t){b()({method:"GET",url:"/api/updateorders/oldproducts"}).then(function(t){e.setState({allProducts:t.data})}).catch(function(e){console.log("error in selectedOldProduct",e)})},e.setOldProduct=function(t){e.setState(Object(nt.a)({},e.state.oldProduct,{oldProduct:t.target.value}))},e.addOldProduct=function(t){console.log("in addOldProduct");var a={name:e.state.oldProduct,id:e.state.selectedOrder};b()({method:"POST",url:"/api/updateorders/old",data:a}).then(function(t){e.getProducts()}).catch(function(e){console.log("error in addProduct",e)})},e.getProducts=function(t){var a={id:e.state.selectedOrder};b()({method:"POST",url:"/api/updateorders/products",data:a}).then(function(t){e.setState({orderProducts:t.data})}).catch(function(e){console.log("error in getProducts",e)})},e.setOrder=function(t){e.setState(Object(nt.a)({},e.state.selectedOrder,{selectedOrder:t.target.value}),function(){e.getProducts()})},e.setWriter=function(t){e.setState(Object(nt.a)({},e.state.writer,{writer:t.target.value}))},e.updateWriter=function(t){var a={id:e.state.writer,orderId:e.state.selectedOrder};b()({method:"PUT",url:"/api/updateorders",data:a}).then(function(t){e.getProducts()}).catch(function(e){console.log("error in updateWriter",e)})},e.setProduct=function(t){e.setState(Object(nt.a)({},e.state.product,{product:t.target.value}))},e.addProduct=function(t){var a={name:e.state.product,id:e.state.selectedOrder};b()({method:"POST",url:"/api/updateorders/add",data:a}).then(function(t){e.getProducts()}).catch(function(e){console.log("error in addProduct",e)})},e.state={orders:[],selectedOrder:null,orderProducts:[],allProducts:[],people:[],oldProduct:null,product:null,writer:null,date:st().format("L")},e}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.getOrders(),this.getPerson(),this.getOldProduct()}},{key:"render",value:function(){var e,t,a,n,o,s,c,i,l=this;return null==this.state.writer&&(o=!0),null==this.state.oldProduct&&(s=!0),null==this.state.product&&(c=!0),null!=this.state.selectedOrder?(e=r.a.createElement("div",null,r.a.createElement("select",{onChange:this.setWriter},r.a.createElement("option",{value:"",disabled:!0,selected:!0}," Select a Crew Member"),this.state.people.map(function(e){return r.a.createElement("option",{value:e.id},e.username)})),r.a.createElement("button",{disabled:o,onClick:this.updateWriter},"Update Writer")),t=r.a.createElement("h1",null,"Update Order: ",this.state.orders.map(function(e){if(e.id==l.state.selectedOrder)return e.order_name})),n=r.a.createElement(ye.a,{container:!0,style:{padding:20},direction:"column",justify:"space-between",alignItems:"space-between"},"Add Existing Product",r.a.createElement(ye.a,{container:!0,style:{paddingTop:10},direction:"column",justify:"space-between",alignItems:"space-between"},r.a.createElement("select",{onChange:this.setOldProduct},r.a.createElement("option",{value:"",disabled:!0,selected:!0}," Select Product"),this.state.allProducts.map(function(e){return r.a.createElement("option",{value:e.id},e.product_name)}))),r.a.createElement(ye.a,{container:!0,style:{paddingTop:10},direction:"column",justify:"space-between",alignItems:"space-between"},r.a.createElement(we.a,{variant:"outlined",disabled:s,onClick:this.addOldProduct},"Add Old Product"))),a=r.a.createElement(ye.a,{container:!0,style:{padding:20},direction:"column",justify:"space-between",alignItems:"space-between"},"Add New Product ",r.a.createElement("input",{type:"text",placeholder:"product name",onChange:this.setProduct}),r.a.createElement(ye.a,{container:!0,style:{paddingTop:10},direction:"column",justify:"space-between",alignItems:"space-between"},r.a.createElement(we.a,{variant:"outlined",disabled:c,onClick:this.addProduct},"Add Product"))," ")):t=r.a.createElement("h1",null,"Update Orders"),this.state.orderProducts.length>0&&(i=r.a.createElement("h3",null,"Current Writer: ",this.state.orderProducts[0].username)),r.a.createElement("div",null,r.a.createElement(ye.a,{contianer:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(Qe.a,{className:"dateToggle"},r.a.createElement(ye.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},t,r.a.createElement("select",{onChange:this.setOrder},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Select an Order"),this.state.orders.map(function(e){return r.a.createElement("option",{value:e.id},e.order_name)})),e,i),r.a.createElement(ye.a,{container:!0,style:{padding:20},direction:"column",justify:"space-between",alignItems:"space-between"},this.state.orderProducts.map(function(e){return r.a.createElement(ot,{getProducts:l.getProducts,product:e})})),n,a)))}}]),t}(n.Component),it=Object(i.b)(function(e){return{reduxStore:e}})(ct),lt=a(109),ut=a(48),dt=a.n(ut),pt=(a(385),function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).upCount=function(){a.props.upQuantity(a.props.i)},a.downCount=function(){a.props.downQuantity(a.props.i)},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.props.getProducts()}},{key:"render",value:function(){var e;return e=this.props.currentDate>this.props.date||this.props.statusId>=3&&0==this.props.manager?r.a.createElement(ye.a,{container:!0,style:{padding:20},direction:"column",justify:"space-between",alignItems:"space-between"},r.a.createElement(ke.a,null,r.a.createElement(ye.a,{container:!0,style:{padding:20},direction:"row",justify:"space-between",alignItems:"space-between"},r.a.createElement(Ce.a,null,r.a.createElement("h4",null,this.props.product.product_name)),r.a.createElement(Ce.a,null,r.a.createElement("h4",null,this.props.product.quantity))))):r.a.createElement(ye.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement("h4",{className:"prodName"},this.props.product.product_name),r.a.createElement("div",{className:"buttonQuantity"},r.a.createElement(ye.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(dt.a,{variant:"outlined",size:"small",onClick:this.downCount},"-"),r.a.createElement("h4",null,this.props.product.quantity),r.a.createElement(dt.a,{variant:"outlined",size:"small",onClick:this.upCount},"+"))," ")),r.a.createElement(ye.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",style:{padding:10}},e)}}]),t}(n.Component)),mt=Object(i.b)(function(e){return{user:e.user}})(pt),ht=a(52),Et=a.n(ht),ft=a(61),gt=a.n(ft),vt=(a(387),a(51)),Ot=vt().format("L"),yt=function(e){function t(e){var a;return Object(ae.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).getOrders=function(){console.log("in get orders");var e={id:a.props.reduxStore.user.id,orderId:a.props.match.params.id,date:a.state.date};b()({method:"POST",url:"/api/dashboardGet",data:e}).then(function(e){a.setState({orders:e.data})})},a.getProducts=function(e){var t;console.log("in getproducts");for(var n=0;n<a.state.orders.length;n++)n.order_id==a.props.match.params.id&&(t=n.person_id);var r={id:a.props.match.params.id,date:a.state.date,person:t};b()({method:"POST",url:"/api/ordersheet/",data:r}).then(function(e){console.log("response.data",e.data),a.setState({products:e.data})})},a.getNotes=function(e){console.log("in get notes");var t={order:a.props.match.params.id,date:a.state.date};b()({method:"POST",url:"/api/notesGet",data:t}).then(function(e){a.setState({notes:e.data})})},a.approveOrder=function(e){var t={products:a.state.products,id:a.props.match.params.id,date:a.state.date,button:"approve"};b()({method:"PUT",url:"/api/ordersheet",data:t}).then(function(e){a.getProducts(),alert("Order Approved."),a.props.history.push("/home")}).catch(function(e){console.log("error on client putting orders",e)})},a.saveOrder=function(e){var t={products:a.state.products,id:a.props.match.params.id,date:a.state.date,button:"save"};b()({method:"PUT",url:"/api/ordersheet",data:t}).then(function(e){alert("Order Saved. Remember to Submit."),a.getProducts()}).catch(function(e){console.log("error on client putting orders",e)})},a.submitOrder=function(e){var t={products:a.state.products,id:a.props.match.params.id,date:a.state.date,button:"submit"};b()({method:"PUT",url:"/api/ordersheet",data:t}).then(function(e){alert("Succesfully Submitted Order!"),a.getProducts(),a.props.history.push("/home")}).catch(function(e){console.log("error on client putting orders",e)})},a.setNote=function(e){a.setState({note:Object(nt.a)({},a.state.notes,{note:e.target.value})})},a.addNote=function(e){var t={id:a.props.match.params.id,note:a.state.note.note,date:a.state.date};b()({method:"POST",url:"/api/notesAdd",data:t}).then(function(e){a.getNotes()})},a.upQuantity=function(e){var t=JSON.parse(JSON.stringify(a.state.products));t[e].quantity++,a.setState({products:t})},a.downQuantity=function(e){if(0!==a.state.products[e].quantity){var t=JSON.parse(JSON.stringify(a.state.products));t[e].quantity--,a.setState({products:t})}},a.backDay=function(){var e=Object(lt.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({date:vt(a.state.date).subtract(1,"days").format("L")});case 2:return e.next=4,a.componentDidMount();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.forwardDay=function(){var e=Object(lt.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({date:vt(a.state.date).add(1,"days").format("L")});case 2:return e.next=4,a.componentDidMount();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={products:[],notes:[],note:"",date:vt().format("L"),orders:[]},a}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.getProducts(),this.getNotes(),this.getOrders()}},{key:"render",value:function(){var e,t,a,n,o=this;return this.state.notes.length>0&&(e=r.a.createElement(Qe.a,null,r.a.createElement(Et.a,{style:{padding:10}},r.a.createElement("h3",null,"Existing Notes:"),this.state.notes.map(function(e){return r.a.createElement(gt.a,null,e.note_entry)})))),this.state.products.map(function(e){return n=e.status_id,e.status_id}),Ot<=this.state.date&&n<3&&0==this.props.reduxStore.user.manager?(console.log("state date:",this.state.date),console.log("status ",n),console.log("manager",this.props.reduxStore.user.manager),t=r.a.createElement(ye.a,{container:!0,style:{padding:10},direction:"column",justify:"flex-end"},r.a.createElement("h3",null,"Add Notes:"),r.a.createElement(ve.a,{variant:"outlined",fullWidth:!0,onChange:this.setNote}),r.a.createElement(ye.a,{container:!0,style:{paddingTop:10},justify:"flex-end",direction:"row"},r.a.createElement(we.a,{className:"addNoteButton",color:"default",variant:"outlined",onClick:this.addNote},"Add Note"))),a=r.a.createElement("div",null,r.a.createElement(ye.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(we.a,{variant:"outlined",onClick:this.saveOrder},"Save"),r.a.createElement(we.a,{variant:"outlined",onClick:this.submitOrder},"Submit")))):Ot<=this.state.date&&1==this.props.reduxStore.user.manager&&(t=r.a.createElement(ye.a,{container:!0,style:{padding:10},direction:"column",justify:"flex-end"},r.a.createElement("h3",null,"Add Notes:"),r.a.createElement(ve.a,{variant:"outlined",fullWidth:!0,onChange:this.setNote}),r.a.createElement(ye.a,{container:!0,style:{paddingTop:10},justify:"flex-end",direction:"row"},r.a.createElement(we.a,{className:"addNoteButton",color:"default",variant:"outlined",onClick:this.addNote},"Add Note"))),a=r.a.createElement("div",null,r.a.createElement(ye.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(we.a,{variant:"outlined",onClick:this.saveOrder},"Save"),r.a.createElement(we.a,{variant:"outlined",onClick:this.approveOrder},"Approve")))),r.a.createElement("div",{className:"main"},r.a.createElement(ye.a,{contianer:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(Qe.a,{className:"dateToggle"},r.a.createElement(ye.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},this.state.orders.map(function(e){if(e.order_id==o.props.match.params.id)return r.a.createElement("h1",null,e.order_name)})),r.a.createElement(ye.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(dt.a,{size:"small",onClick:this.backDay},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}))),r.a.createElement("h2",null,this.state.date),r.a.createElement(dt.a,{size:"small",onClick:this.forwardDay},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}))))),r.a.createElement(Qe.a,{className:"dateToggle"},e,t,r.a.createElement("div",null,this.state.products.map(function(e,t){return r.a.createElement(mt,{manager:o.props.reduxStore.user.manager,statusId:n,currentDate:Ot,date:o.state.date,history:o.props.history,product:e,i:t,upQuantity:o.upQuantity,downQuantity:o.downQuantity,getProducts:o.getProducts})})),a)))}}]),t}(n.Component),bt=Object(i.b)(function(e){return{reduxStore:e}})(yt),wt=a(69),jt=a.n(wt),St=a(51),xt=function(e){function t(){var e;return Object(ae.a)(this,t),(e=Object(re.a)(this,Object(oe.a)(t).call(this))).getOrders=function(){console.log("in get orders");var t={id:e.props.reduxStore.user.id,date:e.state.date};b()({method:"POST",url:"/api/dashboardGet",data:t}).then(function(t){e.setState({orders:t.data})})},e.getNotes=function(t){var a={order:e.state.historyQuery.order,date:e.state.historyQuery.date};b()({method:"POST",url:"/api/notesGet",data:a}).then(function(t){e.setState(Object(nt.a)({},e.state,{notes:t.data}))})},e.getHistory=function(t){var a={type:"POST_HISTORY",payload:e.state.historyQuery};e.props.dispatch(a),e.getNotes(),Ye=r.a.createElement("h3",null,e.state.orders.map(function(t){if(t.order_id==e.state.historyQuery.order)return t.order_name})),Ke=r.a.createElement("h3",null,e.state.historyQuery.date)},e.setOrder=function(t){e.setState({historyQuery:Object(nt.a)({},e.state.historyQuery,{order:t.target.value})})},e.setDate=function(t){e.setState({historyQuery:Object(nt.a)({},e.state.historyQuery,{date:t.target.value})})},e.state={orders:[],historyQuery:{date:null,order:null},products:[],notes:[],date:St().format("L")},e}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.getOrders()}},{key:"render",value:function(){var e;return this.state.notes.length>0&&(e=r.a.createElement("h3",null,"Notes:")),r.a.createElement("div",null,r.a.createElement(ye.a,{contianer:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(Qe.a,{className:"dateToggle"},r.a.createElement(ye.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement("h1",null,"History")),r.a.createElement("h3",null,"Date"),r.a.createElement(ve.a,{type:"date",variant:"outlined",fullWidth:!0,onChange:this.setDate}),r.a.createElement("h3",null,"Order"),r.a.createElement(jt.a,{fullWidth:!0},r.a.createElement("select",{onChange:this.setOrder},r.a.createElement("option",{value:"",disable:!0,selected:!0}," Select an Order"),this.state.orders.map(function(e){return r.a.createElement("option",{value:e.order_id},e.order_name)}))),r.a.createElement(ye.a,{container:!0,style:{paddingTop:10},justify:"flex-end",direction:"row"},r.a.createElement(we.a,{variant:"outlined",onClick:this.getHistory},"Show history")),r.a.createElement(ye.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},Ye," ",Ke),e,r.a.createElement(Et.a,null,this.state.notes.map(function(e){return r.a.createElement(gt.a,null,e.note_entry)})),r.a.createElement(ye.a,{container:!0,style:{padding:20},direction:"column",justify:"space-between",alignItems:"space-between"},this.props.reduxStore.products.map(function(e){return r.a.createElement(ke.a,null,r.a.createElement(ye.a,{container:!0,style:{padding:20},direction:"row",justify:"space-between",alignItems:"space-between"},r.a.createElement(Ce.a,null,r.a.createElement("h4",null,e.product_name)),r.a.createElement(Ce.a,null,r.a.createElement("h4",null,e.quantity))))})))))}}]),t}(n.Component),Tt=Object(i.b)(function(e){return{reduxStore:e}})(xt),It=function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(se.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"FETCH_USER"})}},{key:"render",value:function(){return r.a.createElement(ce.a,null,r.a.createElement("div",null,r.a.createElement(me,null),r.a.createElement(ie.a,null,r.a.createElement(le.a,{exact:!0,from:"/",to:"/home"}),r.a.createElement(ue.a,{exact:!0,path:"/about",component:_e}),r.a.createElement(Ie,{exact:!0,path:"/home",component:tt}),r.a.createElement(Ie,{exact:!0,path:"/home/:id",component:bt}),r.a.createElement(Ie,{exact:!0,path:"/history",component:Tt}),this.props.user.manager&&r.a.createElement(Ie,{exact:!0,path:"/update",component:it}),r.a.createElement(Ie,{exact:!0,path:"/info",component:at}),r.a.createElement(ue.a,{render:function(){return r.a.createElement("h1",null,"404")}})),r.a.createElement(he,null)))}}]),t}(n.Component),_t=Object(i.b)(function(e){return{user:e.user}})(It),Nt=Object(l.a)(),kt=[Nt],Pt=Object(c.d)(f,c.a.apply(void 0,kt));Nt.run(te),s.a.render(r.a.createElement(i.a,{store:Pt},r.a.createElement(_t,null)),document.getElementById("react-root"))}},[[227,1,2]]]);
//# sourceMappingURL=main.00968e28.chunk.js.map